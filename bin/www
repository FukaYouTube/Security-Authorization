const app   = require('../app/app') // application express server
const print = require('../app/source/print/print') // print -> console.log


const os        = require('os')
const fs        = require('fs')
const https     = require('https')


// save var port on port 8080 or 3000
let port    = process.env.PORT || 3000


// view ip address or localhost
function ipconfig(){
    let ip = os.networkInterfaces().en0
    if(ip){
        return `https://${ip[1].address}:${port}/`
    }else{ return `https://localhost:${port}/` }
}


// connect on port to start server
let server = https.createServer({ key: fs.readFileSync('server.key'), cert: fs.readFileSync('server.cert') }, app)
server.listen(port, () => new print(`Connect on port ${port} :: ${ipconfig()}`).log())